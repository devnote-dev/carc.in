<div class="code">
  <div class="codeheading">
    <h3>Code</h3>
  </div>
  <div id="controls">
    <LinkTo @route="run_request" @model={{model.language}} class="button icon-doc-new">
      <EmberTooltip @text="New (N)" />
    </LinkTo>
    <a href={{model.download_url}} download target="_blank" rel="noopener" class="button icon-download">
      <EmberTooltip @text="Download" />
    </a>
    <LinkTo @route="run.edit" @model={{model.id}} class="button icon-edit-3">
      <EmberTooltip @text="Edit (E)" />
    </LinkTo>
  </div>

  <SourceCode @code={{model.code}} @language={{model.language}} @lineNumbers={{true}} />

  <div class="metadata">
    <span class="created_at">{{model.created_at}}</span>
    <div class="right_metadata">
      <span class="exit_code">{{model.exit_code}}</span>
      <span class="language">{{language-name model.language}} {{model.version}}</span>
    </div>
  </div>
</div>

<div class="output">
  {{#if model.prettyStderr}}
    <div class="stderr">
      <div class="codeheading">
        <h3>Error output</h3>
      </div>

      <SourceCode @code={{model.prettyStderr}} @language="nohighlight" @ansiCodes={{true}} />
    </div>
  {{/if}}

  {{#if displayOutput}}
    <div class="stdout">
      <div class="codeheading">
        <h3>Output</h3>
      </div>

      {{#if model.stdout}}
        <SourceCode @code={{model.stdout}} @language="nohighlight" @ansiCodes={{true}} />
      {{else}}
        There was no output.
      {{/if}}
    </div>
  {{/if}}
</div>